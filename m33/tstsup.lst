TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

     1					TITLE TSTSUP
     2					SUBTTL ABSOLUTE DISK READ/WRITE TOOL
     3			000004			VTSTSP==4
     4					;LOAD WITH COMMOD.REL
     5					EXTERNAL	CODRIB,RIBALP,RIBCOD,RIBEXT,RIBLST,RIBNAM,RIBPFS
     6					EXTERNAL	RIBPPN,RIBSIZ,RIBSLF,RIBSNM,RIBSTS,RIBSZS,RIPBDR
     7					EXTERNAL	RIBPFS,RIBSFS,RIBRIB,RBLVSP,RBLVPR
     8
     9			000000			FLG=0
    10			000001			  FL.DET==1B35		;REPORT DETAIL ON FILE ALLOCATION
    11			000001			T1=1
    12			000002			T2=2
    13			000003			T3=3
    14			000004			T4=4
    15			000005			P1=5
    16			000006			P2=6
    17			000007			P3=7
    18			000010			P4=10		;P1-P4 FOR USING IN PATCH PROGRAMS.
    19			000016			PAGE=16
    20			000017			P=17
    21
    22			000001		UFD==1
    23
    24			000031		CIO.PI==31
    25			000032		CIO.PO==32
    26
    27					IF2,<
    28					PRINTX from DDT do...
    29					PRINTX PAGE,,DATBRK$B
    30					PRINTX EXIT$X
    31					PRINTX SAVE TSTSUP
    32					>
    33
    34					DEFINE MSG(TEXT),<OUTSTR [ASCIZ\'TEXT\]>
    35					DEFINE CRLF <OUTSTR [ASCIZ /
    36					/]>
    37
    38					DEFINE ERRPOP(TEXT)<JRST [MSG <'TEXT>
    39							CRLF
    40							POPJ P,]>
    41					DEFINE ERROR (TEXT) <JRST[MSG<'TEXT>
    42							EXIT 1,
    43							JRST .-1]>
    44
    45	000137					LOC 137
    46	000137	000000	000004			EXP VTSTSP
    47	000000'					RELOC
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 2
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

    48	000000'	255 00 0 00 000000 	ST:	JFCL
    49	000001'	047 00 0 00 000000 		RESET
    50	000002'	400 00 0 00 000000 		SETZ	FLG,
    51	000003'	200 17 0 00 004030'		MOVE	P,[IOWD PDLLEN,PDL]
    52	000004'	050 00 0 00 004031'		OPEN	[EXP 17,SIXBIT/STR/,0]
    53						  JRST	[OUTSTR [ASCIZ/
    54					NO STR
    55					/]
    56	000005'	254 00 0 00 004037'			EXIT]
    57
    58	000006'	205 01 0 00 446353 		MOVSI	T1,'DSK'
    59	000007'	202 01 0 00 001064'		MOVEM	T1,DSKCBL
    60	000010'	200 01 0 00 004041'		MOVE	T1,[XWD 7,DSKCBL]
    61	000011'	047 01 0 00 000045 		DSKCHR	T1,
    62	000012'	254 04 0 00 000000 		  HALT
    63	000013'	200 01 0 00 001072'		MOVE	T1,DSKCBL+6
    64	000014'	202 01 0 00 004027'		MOVEM	T1,STRBPU#
    65	000015'	201 16 0 00 000001 		MOVEI	PAGE,1
    66
    67	000016'	260 17 0 00 000053'	MORE:	PUSHJ	P,CNVPAG		;GET DISK PAGE NUMBER IN AC 1
    68	000017'	200 02 0 00 004042'		MOVE	T2,[CIO.PI,,0]
    69	000020'	043 02 0 00 000001 		CHANIO	T2,T1
    70	000021'	066 00 0 00 000062'		INPUT	IOWD
    71	000022'	062 00 0 00 000001 		GETSTS	T1
    72	000023'	405 01 0 00 760000 		ANDI	T1,IO.ERR
    73	000024'	322 01 0 00 000041'		JUMPE	T1,DATBRK	;GO IF NO ERRORS.
    74					DEFINE IOERRS <
    75					X 400000,IOIMPM,<IMPROPER MODE>
    76					X 200000,IODERR,<DEVICE ERROR>
    77					X 100000,IODTER,<DATA ERROR>
    78					X 40000,IOBKTL,<BLOCK TOO LARGE>
    79					X 20000,IOEOF,<END OF FILE>
    80					>
    81			760000		IO.ERR==760000
    82					DEFINE X(A,B,C)<
    83					'B=='A
    84					TRNE T1,'A
    85					MSG < 'C>
    86					>
    87	000025'				ERRBRK:	IOERRS^
    88	000025'	602 01 0 00 400000 	TRNE T1,400000
    89	000026'	051 03 0 00 004043'	MSG < IMPROPER MODE>^OUTSTR [ASCIZ\ IMPROPER MODE\]^
    90	000027'	602 01 0 00 200000 	TRNE T1,200000
    91	000030'	051 03 0 00 004046'	MSG < DEVICE ERROR>^OUTSTR [ASCIZ\ DEVICE ERROR\]^
    92	000031'	602 01 0 00 100000 	TRNE T1,100000
    93	000032'	051 03 0 00 004051'	MSG < DATA ERROR>^OUTSTR [ASCIZ\ DATA ERROR\]^
    94	000033'	602 01 0 00 040000 	TRNE T1,40000
    95	000034'	051 03 0 00 004054'	MSG < BLOCK TOO LARGE>^OUTSTR [ASCIZ\ BLOCK TOO LARGE\]^
    96	000035'	602 01 0 00 020000 	TRNE T1,20000
    97	000036'	051 03 0 00 004060'	MSG < END OF FILE>^OUTSTR [ASCIZ\ END OF FILE\]^
    98						CRLF^OUTSTR [ASCIZ /
    99	000037'	051 03 0 00 004063'	/]^
   100	000040'	060 00 0 00 000017 		SETSTS	0,17
   101	000041'	254 00 0 00 000016'	DATBRK:	JRST	MORE
   102
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 2-1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   103	000042'	344 16 0 00 000016'	NEXT:	AOJA	PAGE,MORE
   104
   105		254000	000043'		OPDEF WRITE [JRST XWRITE]
   106	000043'	260 17 0 00 000053'	XWRITE:	PUSHJ	P,CNVPAG		;GET PAGE REL TO STR IN AC 1
   107	000044'	200 02 0 00 004064'		MOVE	T2,[CIO.PO,,0]
   108	000045'	043 02 0 00 000001 		CHANIO	T2,T1
   109	000046'	067 00 0 00 000062'		OUTPUT	IOWD
   110	000047'	062 00 0 00 000001 		GETSTS	T1
   111	000050'	405 01 0 00 760000 		ANDI	T1,IO.ERR
   112	000051'	322 01 0 00 000041'		JUMPE	T1,DATBRK	;GET READY TO READ AGAIN.
   113	000052'	254 00 0 00 000025'		JRST	ERRBRK
   114
   115	000053'	135 02 0 00 000060'	CNVPAG:	LDB	T2,RBYUNI
   116	000054'	220 02 0 00 004027'		IMUL	T2,STRBPU
   117	000055'	135 01 0 00 000061'		LDB	T1,RBYPAG
   118	000056'	270 01 0 00 000002 		ADD	T1,T2
   119	000057'	263 17 0 00 000000 		POPJ	P,
   120
   121	000060'	23 10 0 00 000016 	RBYUNI:	POINT 8,PAGE,16
   122	000061'	00 23 0 00 000016 	RBYPAG:	POINT 19,PAGE,35
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 3
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   123	000062'	777000	000063'		IOWD:	IOWD	1000,D
   124	000063'	000000	000000			0
   125
   126	000064'				D:	BLOCK	1000
   127
   128	001064'				DSKCBL:	BLOCK	7
   129
   130
   131		051140	001073'		OPDEF HELP [OUTSTR HLPMSG]
   132	001073'				HLPMSG:	ASCIZ \
   133	001073'	015 012 044 120 011 	$P		reads c(PAGE) into data buffer D
   134	001074'	011 162 145 141 144 
   135	001075'	163 040 143 050 120 
   136	001076'	101 107 105 051 040 
   137	001077'	151 156 164 157 040 
   138	001100'	144 141 164 141 040 
   139	001101'	142 165 146 146 145 
   140	001102'	162 040 104 015 012 	MORE$G		same as $P if not at breakpoint
   141	001103'	115 117 122 105 044 
   142	001104'	107 011 011 163 141 
   143	001105'	155 145 040 141 163 
   144	001106'	040 044 120 040 151 
   145	001107'	146 040 156 157 164 
   146	001110'	040 141 164 040 142 
   147	001111'	162 145 141 153 160 
   148	001112'	157 151 156 164 015 
   149	001113'	012 116 105 130 124 	NEXT$G		reads c(PAGE)+1 into data buffer D
   150	001114'	044 107 011 011 162 
   151	001115'	145 141 144 163 040 
   152	001116'	143 050 120 101 107 
   153	001117'	105 051 053 061 040 
   154	001120'	151 156 164 157 040 
   155	001121'	144 141 164 141 040 
   156	001122'	142 165 146 146 145 
   157	001123'	162 040 104 015 012 	WRITE$G		writes out buffer D to c(PAGE)
   158	001124'	127 122 111 124 105 
   159	001125'	044 107 011 011 167 
   160	001126'	162 151 164 145 163 
   161	001127'	040 157 165 164 040 
   162	001130'	142 165 146 146 145 
   163	001131'	162 040 104 040 164 
   164	001132'	157 040 143 050 120 
   165	001133'	101 107 105 051 015 
   166	001134'	012 114 117 117 113 	LOOK$X		asks for file, if found reads its prime rib into buffer D
   167	001135'	044 130 011 011 141 
   168	001136'	163 153 163 040 146 
   169	001137'	157 162 040 146 151 
   170	001140'	154 145 054 040 151 
   171	001141'	146 040 146 157 165 
   172	001142'	156 144 040 162 145 
   173	001143'	141 144 163 040 151 
   174	001144'	164 163 040 160 162 
   175	001145'	151 155 145 040 162 
   176	001146'	151 142 040 151 156 
   177	001147'	164 157 040 142 165 
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 3-1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   178	001150'	146 146 145 162 040 
   179	001151'	104 015 012 122 114 	RLOOK$X		same as LOOK$X, but uses c(USRNAM,FNAME,FEXT)
   180	001152'	117 117 113 044 130 
   181	001153'	011 011 163 141 155 
   182	001154'	145 040 141 163 040 
   183	001155'	114 117 117 113 044 
   184	001156'	130 054 040 142 165 
   185	001157'	164 040 165 163 145 
   186	001160'	163 040 143 050 125 
   187	001161'	123 122 116 101 115 
   188	001162'	054 106 116 101 115 
   189	001163'	105 054 106 105 130 
   190	001164'	124 051 015 012 123 	SCAN$X		scans filename from terminal into c(USRNAM,FNAME,FEXT)
   191	001165'	103 101 116 044 130 
   192	001166'	011 011 163 143 141 
   193	001167'	156 163 040 146 151 
   194	001170'	154 145 156 141 155 
   195	001171'	145 040 146 162 157 
   196	001172'	155 040 164 145 162 
   197	001173'	155 151 156 141 154 
   198	001174'	040 151 156 164 157 
   199	001175'	040 143 050 125 123 
   200	001176'	122 116 101 115 054 
   201	001177'	106 116 101 115 105 
   202	001200'	054 106 105 130 124 
   203	001201'	051 015 012 101 114 	ALC$X		prints out allocation report for file
   204	001202'	103 044 130 011 011 
   205	001203'	160 162 151 156 164 
   206	001204'	163 040 157 165 164 
   207	001205'	040 141 154 154 157 
   208	001206'	143 141 164 151 157 
   209	001207'	156 040 162 145 160 
   210	001210'	157 162 164 040 146 
   211	001211'	157 162 040 146 151 
   212	001212'	154 145 015 012 122 	RIBCLR$X	takes rib in buffer D with rib error and makes it deletable
   213	001213'	111 102 103 114 122 
   214	001214'	044 130 011 164 141 
   215	001215'	153 145 163 040 162 
   216	001216'	151 142 040 151 156 
   217	001217'	040 142 165 146 146 
   218	001220'	145 162 040 104 040 
   219	001221'	167 151 164 150 040 
   220	001222'	162 151 142 040 145 
   221	001223'	162 162 157 162 040 
   222	001224'	141 156 144 040 155 
   223	001225'	141 153 145 163 040 
   224	001226'	151 164 040 144 145 
   225	001227'	154 145 164 141 142 
   226	001230'	154 145 015 012 011 			(use regular delete in P034/E and later monitors)
   227	001231'	011 050 165 163 145 
   228	001232'	040 162 145 147 165 
   229	001233'	154 141 162 040 144 
   230	001234'	145 154 145 164 145 
   231	001235'	040 151 156 040 120 
   232	001236'	060 063 064 057 105 
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 3-2
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   233	001237'	040 141 156 144 040 
   234	001240'	154 141 164 145 162 
   235	001241'	040 155 157 156 151 
   236	001242'	164 157 162 163 051 
   237	001243'	015 012 110 105 114 	HELP$X		types this message
   238	001244'	120 044 130 011 011 
   239	001245'	164 171 160 145 163 
   240	001246'	040 164 150 151 163 
   241	001247'	040 155 145 163 163 
   242	001250'	141 147 145 015 012 	RD$X		Used in patch programs - reads c(PAGE) into buffer D and
   243	001251'	122 104 044 130 011 
   244	001252'	011 125 163 145 144 
   245	001253'	040 151 156 040 160 
   246	001254'	141 164 143 150 040 
   247	001255'	160 162 157 147 162 
   248	001256'	141 155 163 040 055 
   249	001257'	040 162 145 141 144 
   250	001260'	163 040 143 050 120 
   251	001261'	101 107 105 051 040 
   252	001262'	151 156 164 157 040 
   253	001263'	142 165 146 146 145 
   254	001264'	162 040 104 040 141 
   255	001265'	156 144 015 012 011 			skips if successful.
   256	001266'	011 163 153 151 160 
   257	001267'	163 040 151 146 040 
   258	001270'	163 165 143 143 145 
   259	001271'	163 163 146 165 154 
   260	001272'	056 015 012 000 000 	\
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 4
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   261		260740	001273'		OPDEF LOOK[PUSHJ P,.LOOK]
   262	001273'	260 17 0 00 001307'	.LOOK:	PUSHJ	P,FLOOK
   263						  ERRPOP	<<NOT FOUND>>^JRST [MSG <<NOT FOUND>>^OUTSTR [ASCIZ\<NOT FOUND>\]^
   264					/]^
   265	001274'	254 00 0 00 004070'			POPJ P,]^
   266	001275'	262 17 0 00 000001 		POP	P,T1		;GET RETURN ADDR OFF STACK
   267	001276'	254 00 0 00 000016'		JRST	MORE		;GO READ THE PAGE IN.
   268		260740	001277'		OPDEF RLOOK[PUSHJ P,.RLOOK]
   269	001277'	260 17 0 00 001311'	.RLOOK:	PUSHJ	P,FLOOK1
   270						  ERRPOP	<<NOT FOUND>>^JRST [MSG <<NOT FOUND>>^OUTSTR [ASCIZ\<NOT FOUND>\]^
   271					/]^
   272	001300'	254 00 0 00 004070'			POPJ P,]^
   273	001301'	262 17 0 00 000001 		POP	P,T1		;GET RETURN ADDR OFF STACK
   274	001302'	254 00 0 00 000016'		JRST	MORE		;GO READ THE PAGE IN.
   275		260740	001303'		OPDEF SCAN[PUSHJ P,.SCAN]
   276	001303'	260 17 0 00 002716'	.SCAN:	PUSHJ	P,SCANER
   277	001304'	254 04 0 00 001304'		  HALT	.
   278	001305'	262 17 0 00 000001 		POP	P,T1
   279	001306'	254 00 0 00 000016'		JRST	MORE
   280
   281	001307'	260 17 0 00 002716'	FLOOK:	PUSHJ	P,SCANER	;GET FILENAME ETC SETUP
   282	001310'	254 04 0 00 001310'		  HALT	.		;NOT SUPPOSED TO HAPPEN
   283	001311'	260 17 0 00 001314'	FLOOK1:	PUSHJ	P,RIBGET	;GET THE PRIME RIB SETUP IN AC PAGE
   284	001312'	263 17 0 00 000000 		  POPJ	P,
   285	001313'	254 00 0 00 001361'		JRST	CPOPJ1		;GOOD RETURN.
   286
   287					;PUSHJ HERE WITH USRNAM,FNAME,FEXT SETUP. RETURN SKIP WITH PRIME RIB
   288					; PAGE IN PAGE IF FOUND, NON-SKIP IF NOT FOUND.
   289	001314'	050 01 0 00 004031'	RIBGET:	OPEN	UFD,[EXP 17,SIXBIT/STR/,0]
   290						  JRST	[OUTSTR [ASCIZ/
   291					NO STR
   292					/]
   293	001315'	254 00 0 00 004073'			 POPJ P,]
   294	001316'	201 01 0 00 002372'		MOVEI	T1,USRNAM
   295	001317'	336 00 0 01 000000 		SKIPN	(T1)
   296	001320'	047 01 0 00 000024 		GETPPN	T1,
   297	001321'	255 00 0 00 000000 		  JFCL
   298	001322'	202 01 0 00 002400'		MOVEM	T1,UFDLKB+2
   299	001323'	200 01 0 00 004075'		MOVE	T1,[1,,1]
   300	001324'	202 01 0 00 002377'		MOVEM	T1,UFDLKB+1
   301	001325'	205 01 0 00 654644 		MOVSI	T1,'UFD'
   302	001326'	202 01 0 00 002401'		MOVEM	T1,UFDLKB+3
   303	001327'	076 01 0 00 002376'		LOOKUP	UFD,UFDLKB
   304						  JRST	[OUTSTR [ASCIZ/
   305					CAN'T FIND UFD
   306					/]
   307	001330'	254 00 0 00 004102'			 POPJ P,]
   308	001331'	200 01 0 00 002374'		MOVE	T1,FNAME
   309	001332'	621 01 0 00 400000 		TLZ	T1,400000
   310	001333'	231 01 0 00 000007 		IDIVI	T1,7		;GET PAGE NUMBER TO START
   311	001334'	271 02 0 00 000001 		ADDI	T2,1		;START WITH 1
   312	001335'	200 01 0 00 004104'	GETUFD:	MOVE	T1,[CIO.PI,,UFD]
   313	001336'	043 01 0 00 000002 		CHANIO	T1,2
   314	001337'	202 02 0 00 002402'		MOVEM	T2,UFDPAG
   315	001340'	066 01 0 00 001370'		INPUT	UFD,UIOWD
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 4-1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   316	001341'	062 01 0 00 000001 		GETSTS	UFD,1
   317	001342'	405 01 0 00 760000 		ANDI	T1,IO.ERR
   318	001343'	602 01 0 00 020000 		TRNE	T1,20000
   319						JRST	[OUTSTR [ASCIZ/
   320					<UFD EOF>
   321					/]
   322	001344'	254 00 0 00 004110'			 POPJ P,]
   323	001345'	332 00 0 00 000001 		SKIPE	T1
   324	001346'	254 04 0 00 001347'		HALT	.+1
   325	001347'	200 03 0 00 004112'		MOVE	T3,[-1000,,UD]
   326	001350'	336 01 0 03 000000 	UFDLUP:	SKIPN	T1,(T3)
   327	001351'	254 00 0 00 001365'		JRST	UFDNXP
   328	001352'	312 01 0 00 002374'		CAME	T1,FNAME
   329	001353'	254 00 0 00 001363'		JRST	UFDNXE
   330	001354'	510 01 0 03 000001 		HLLZ	T1,1(T3)
   331	001355'	312 01 0 00 002375'		CAME	T1,FEXT
   332	001356'	254 00 0 00 001363'		JRST	UFDNXE
   333						OUTSTR	[ASCIZ/
   334					<FOUND>
   335	001357'	051 03 0 00 004113'	/]
   336	001360'	200 16 0 03 000004 		MOVE	PAGE,4(T3)
   337	001361'	350 00 0 17 000000 	CPOPJ1:	AOS	(P)		;SKIP RETURN WITH PAGE IN AC PAGE
   338	001362'	263 17 0 00 000000 	CPOPJ:	POPJ	P,
   339
   340	001363'	270 03 0 00 004116'	UFDNXE:	ADD	T3,[4,,4]
   341	001364'	253 03 0 00 001350'		AOBJN	T3,UFDLUP
   342	001365'	336 02 0 00 002371'	UFDNXP:	SKIPN	T2,UD+777
   343	001366'	263 17 0 00 000000 		POPJ	P,		;ERROR RETURN.
   344	001367'	344 02 0 00 001335'		AOJA	T2,GETUFD	;GET LINK PAGE NUMBER, CONTINUE.
   345
   346	001370'	777000	001371'		UIOWD:	IOWD 1000,UD
   347	001371'	000000	000000			0
   348	001372'				UD:	BLOCK	1000
   349
   350	002372'	000000	000000		USRNAM:	EXP 0,0
   351	002373'	000000	000000
   352	002374'	000000	000000		FNAME:	0
   353	002375'	000000	000000		FEXT:	0
   354
   355	002376'	000000	000003		UFDLKB:	EXP 3,0,0,0
   356	002377'	000000	000000
   357	002400'	000000	000000
   358	002401'	000000	000000
   359	002402'	000000	000000		UFDPAG:	0
   360
   361		260740	002403'		OPDEF	RIBCLR	[PUSHJ P,XRBCLR]
   362	002403'	200 01 0 00 000000#	XRBCLR:	MOVE T1,D+RIBSLF	; CHECK RIBSLF
   363	002404'	312 01 0 00 000016 		CAME T1,PAGE
   364						  ERRPOP <RIBSLF BAD>^JRST [MSG <RIBSLF BAD>^OUTSTR [ASCIZ\RIBSLF BAD\]^
   365					/]^
   366	002405'	254 00 0 00 004122'			POPJ P,]^
   367	002406'	200 01 0 00 000000#		MOVE T1,D+RIBCOD	; CHECK RIBCOD
   368	002407'	302 01 0 00 000000*		CAIE T1,CODRIB
   369						  ERRPOP <RIBCOD BAD>^JRST [MSG <RIBCOD BAD>^OUTSTR [ASCIZ\RIBCOD BAD\]^
   370					/]^
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 4-2
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   371	002410'	254 00 0 00 004130'			POPJ P,]^
   372	002411'	200 01 0 00 000000#		MOVE T1,D+RIBNAM	; CHECK NAME
   373	002412'	312 01 0 00 002374'		CAME T1,FNAME
   374						  ERRPOP <RIBNAM BAD>^JRST [MSG <RIBNAM BAD>^OUTSTR [ASCIZ\RIBNAM BAD\]^
   375					/]^
   376	002413'	254 00 0 00 004136'			POPJ P,]^
   377	002414'	510 01 0 00 000000#		HLLZ T1,D+RIBEXT	; CHECK EXTENSION
   378	002415'	312 01 0 00 002375'		CAME T1,FEXT
   379						  ERRPOP <RIBEXT BAD>^JRST [MSG <RIBEXT BAD>^OUTSTR [ASCIZ\RIBEXT BAD\]^
   380					/]^
   381	002416'	254 00 0 00 004144'			POPJ P,]^
   382	002417'	200 01 0 00 000000#		MOVE T1,D+RIBPPN	; CHECK DIRECTORY
   383	002420'	312 01 0 00 002400'		CAME T1,UFDLKB+2
   384						  ERRPOP <RIBPPN BAD>^JRST [MSG <RIBPPN BAD>^OUTSTR [ASCIZ\RIBPPN BAD\]^
   385					/]^
   386	002421'	254 00 0 00 004152'			POPJ P,]^
   387	002422'	200 01 0 00 000000#		MOVE T1,D+RIBSTS	; IS IT REALLY BAD?
   388	002423'	606 01 0 00 000000*		TRNN T1,RIPBDR
   389						  ERRPOP <?RIPBDR=0 - shame on you!>^JRST [MSG <?RIPBDR=0 - shame on you!>^OUTSTR [
   390					ASCIZ\?RIPBDR=0 - shame on you!\]^
   391					/]^
   392	002424'	254 00 0 00 004163'			POPJ P,]^
   393	002425'	402 00 0 00 000000#		SETZM D+RIBPFS		; ZERO RIB POINTERS
   394	002426'	200 01 0 00 004166'		MOVE T1,[D+RIBPFS,,D+RIBPFS+1]
   395	002427'	251 01 0 00 000000#		BLT T1,D+RIBLST
   396	002430'	201 01 0 00 000001 		MOVEI T1,1		; SET RIBALP TO 1
   397	002431'	202 01 0 00 000000#		MOVEM T1,D+RIBALP
   398	2'	202 01 0 00 000000#		MOVEM T1,D+RIBSZS	; SET RIBSZS TO 1
   399	002433'	402 00 0 00 000000#		SETZM D+RIBSIZ		; ZERO RIBSIZ
   400	002434'	402 00 0 00 000000#		SETZM D+RIBSNM		; ZERO RIBSNM
   401	002435'	402 00 0 00 000000#		SETZM D+RIBSTS		; ZERO RIBSTS
   402	002436'	254 00 0 00 001361'		JRST	CPOPJ1		;RETURN SUCCESS TO USER.
   403
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 5
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   404
   405					;HERE TO SCAN A FILE AND REPORT ON ITS ALLOCATION
   406
   407		260740	002437'		OPDEF ALC[PUSHJ P,ALCSCN]
   408	002437'	260 17 0 00 001307'	ALCSCN:	PUSHJ	P,FLOOK		;GET FILE IN
   409						  ERRPOP <<NOT FOUND>>^JRST [MSG <<NOT FOUND>>^OUTSTR [ASCIZ\<NOT FOUND>\]^
   410					/]^
   411	002440'	254 00 0 00 004070'			POPJ P,]^
   412	002441'	260 17 0 00 002706'		PUSHJ	P,REDPAG	;READ PAGE INTO BUFFER
   413						  ERRPOP <CAN'T READ FILE'S PRIME RIB>^JRST [MSG <CAN'T READ FILE'S PRIME RIB>^OUTS
   414					TR [ASCIZ\CAN'T READ FILE'S PRIME RIB\]^
   415					/]^
   416	002442'	254 00 0 00 004175'			POPJ P,]^
   417
   418	002443'	200 01 0 00 004200'		MOVE	T1,[UNICNT,,UNICNT+1]
   419	002444'	402 00 0 00 002614'		SETZM	UNICNT
   420	002445'	251 01 0 00 002675'		BLT	T1,UNICNT+SIZUNI-1	;CLEAR OUT TABLE THAT COUNTS
   421	002446'	051 03 0 00 004201'		MSG	<DETAILED REPORT?>^OUTSTR [ASCIZ\DETAILED REPORT?\]^
   422	002447'	051 00 0 00 000001 		INCHRW	T1
   423	002450'	051 00 0 00 000002 		INCHRW	T2
   424	002451'	302 02 0 00 000012 		CAIE	T2,12
   425	002452'	254 00 0 00 002450'		JRST	.-2
   426	002453'	306 01 0 00 000131 		CAIN	T1,"Y"
   427	002454'	664 00 0 00 000001 		TROA	FLG,FL.DET
   428	002455'	620 00 0 00 000001 		TRZ	FLG,FL.DET
   429	002456'	402 00 0 00 002612'		SETZM	PAGNO		;CLEAR OUT PAGE NUMBER IN FILE WE ARE DOING
   430	002457'	476 00 0 00 002613'		SETOM	HGHUNI		;HIGHEST UNIT SEEN.
   431	002460'	476 00 0 00 002610'		SETOM	UNIGRP		;FORCE NEW GROUP TO START.
   432	002461'	602 00 0 00 000001 		TRNE	FLG,FL.DET	;DETAILED REPORT?
   433	002462'	051 03 0 00 004205'		MSG	<FILE PAGES	UNIT>^OUTSTR [ASCIZ\FILE PAGES	UNIT\]^
   434						CRLF^OUTSTR [ASCIZ /
   435	002463'	051 03 0 00 004063'	/]^
   436
   437	002464'	260 17 0 00 002537'	RIBSCN:	PUSHJ	P,RPTRIB	;REPORT ON RIB PAGE, INCREMENT COUNTS
   438	002465'	332 00 0 00 000000#		SKIPE	D+RIBRIB	;PRIME OR SPARE
   439	002466'	334 04 0 00 004211'		SKIPA	T4,[-RBLVSP,,D+RIBSFS]
   440	002467'	200 04 0 00 004212'		MOVE	T4,[-RBLVPR,,D+RIBPFS]
   441
   442	002470'	336 16 0 04 000000 	RIBSC1:	SKIPN	PAGE,(T4)	;GET NEXT POINTER
   443	002471'	254 00 0 00 002501'		JRST	RIBSC4
   444	002472'	327 16 0 00 002477'		JUMPG	PAGE,RIBSC2	;GO IF NOT SPARE POINTER.
   445	002473'	261 17 0 00 000004 		PUSH	P,T4		;SAVE PLACE IN THIS RIB
   446	002474'	260 17 0 00 002706'		PUSHJ	P,REDPAG	;GET PAGE INTO BUFFER
   447						  ERROR <CAN'T READ FILE'S RIB>^JRST[MSG<CAN'T READ FILE'S RIB>^OUTSTR [ASCIZ\CAN'T
   448					 READ FILE'S RIB\]^
   449							EXIT 1,
   450	002475'	254 00 0 00 004220'			JRST .-1]^
   451	002476'	254 00 0 00 002464'		JRST	RIBSCN		;AND SCAN THAT RIB.
   452	002477'	260 17 0 00 002555'	RIBSC2:	PUSHJ	P,RPTPAG
   453	002500'	253 04 0 00 002470'	RIBSC3:	AOBJN	T4,RIBSC1	;DO NEXT ONE
   454	002501'	336 16 0 00 000000#	RIBSC4:	SKIPN	PAGE,D+RIBRIB	;GET NEXT HIGHER RIB IF ANY
   455	002502'	254 00 0 00 002507'		JRST	RIBEOF		;DONE
   456	002503'	260 17 0 00 002706'		PUSHJ	P,REDPAG	;GET HIGHER LEVEL RIB AGAIN
   457						  ERROR <CAN'T RE-READ FILE'S RIB>^JRST[MSG<CAN'T RE-READ FILE'S RIB>^OUTSTR [ASCIZ
   458					\CAN'T RE-READ FILE'S RIB\]^
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 5-1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   459							EXIT 1,
   460	002504'	254 00 0 00 004230'			JRST .-1]^
   461	002505'	262 17 0 00 000004 		POP	P,T4		;GET SAVED POINTER
   462	002506'	254 00 0 00 002500'		JRST	RIBSC3		;AND CONTINUE
   463
   464	002507'	260 17 0 00 002555'	RIBEOF:	PUSHJ	P,RPTPAG	;CLOSE OFF DETAILED REPORT IF NECESSARY
   465						CRLF^OUTSTR [ASCIZ /
   466	002510'	051 03 0 00 004063'	/]^
   467						MSG	<UNIT		NUMBER OF PAGES>^OUTSTR [ASCIZ\UNIT		NUMBER OF PA
   468	002511'	051 03 0 00 004233'	GES\]^
   469						CRLF^OUTSTR [ASCIZ /
   470	002512'	051 03 0 00 004063'	/]^
   471	002513'	400 04 0 00 000000 		SETZ	T4,		;WILL HAVE UNIT WORKING ON.
   472	002514'	336 00 0 04 002614'	RIBEO1:	SKIPN	UNICNT(T4)	;ANY COUNTS FOR THIS UNIT?
   473	002515'	254 00 0 00 002524'		JRST	RIBEO2		;NO
   474	002516'	200 01 0 00 000004 		MOVE	T1,T4		;GET UNIT NUMBER
   475	002517'	260 17 0 00 002676'		PUSHJ	P,DECOUT	;PRINT UNIT NUMBER
   476	002520'	051 03 0 00 004240'		MSG	<		>^OUTSTR [ASCIZ\		\]^
   477	002521'	200 01 0 04 002614'		MOVE	T1,UNICNT(T4)
   478	002522'	260 17 0 00 002676'		PUSHJ	P,DECOUT
   479						CRLF^OUTSTR [ASCIZ /
   480	002523'	051 03 0 00 004063'	/]^
   481	002524'	315 04 0 00 002613'	RIBEO2:	CAMGE	T4,HGHUNI	;DONE?
   482	002525'	344 04 0 00 002514'		AOJA	T4,RIBEO1	;NO
   483	002526'	263 17 0 00 000000 		POPJ	P,		;YES.
   484	002527'	322 16 0 00 001362'	RPTCOM:	JUMPE	PAGE,CPOPJ	;IF THE END, DON'T INCREMENT
   485	002530'	135 02 0 00 000060'		LDB	T2,RBYUNI	;GET UNIT NUMBER
   486	002531'	303 02 0 00 000061 		CAILE	T2,SIZUNI-1	;IN RANGE?
   487						JRST	[MSG <BAD RIB>^OUTSTR [ASCIZ\BAD RIB\]^
   488	002532'	254 00 0 00 004243'			 EXIT]
   489	002533'	350 00 0 02 002614'		AOS	UNICNT(T2)	;INCREMENT
   490	002534'	313 02 0 00 002613'		CAMLE	T2,HGHUNI
   491	002535'	202 02 0 00 002613'		MOVEM	T2,HGHUNI
   492	002536'	263 17 0 00 000000 		POPJ	P,		;RETURN.
   493
   494	002537'	260 17 0 00 002527'	RPTRIB:	PUSHJ	P,RPTCOM
   495	002540'	606 00 0 00 000001 		TRNN	FLG,FL.DET	;DETAILED REPORT?
   496	002541'	263 17 0 00 000000 		POPJ	P,		;NO, FORGET IT.
   497	002542'	201 01 0 00 004245'		MOVEI	T1,[ASCIZ/PRIB(/]
   498	002543'	335 00 0 00 000016 		SKIPGE	PAGE
   499	002544'	201 01 0 00 004247'		MOVEI	T1,[ASCIZ/SRIB(/]
   500	002545'	051 03 1 00 000001 		OUTSTR	@T1
   501	002546'	200 01 0 00 002612'		MOVE	T1,PAGNO
   502	002547'	260 17 0 00 002676'		PUSHJ	P,DECOUT	;REPORT WHICH RIB IT IS
   503	002550'	051 03 0 00 004251'		MSG	<)		>^OUTSTR [ASCIZ\)		\]^
   504	002551'	135 01 0 00 000060'		LDB	T1,RBYUNI	;GET UNIT NUMBER
   505	002552'	260 17 0 00 002676'		PUSHJ	P,DECOUT
   506						CRLF^OUTSTR [ASCIZ /
   507	002553'	051 03 0 00 004063'	/]^
   508	002554'	263 17 0 00 000000 		POPJ	P,
   509
   510	002555'	350 00 0 00 002612'	RPTPAG:	AOS	PAGNO
   511	002556'	260 17 0 00 002527'		PUSHJ	P,RPTCOM	;DO STUFF WE DO FOR RIBS.
   512	002557'	606 00 0 00 000001 		TRNN	FLG,FL.DET	;DETAILED REPORTS?
   513	002560'	263 17 0 00 000000 		POPJ	P,		;NO
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 5-2
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   514	002561'	322 16 0 00 002566'		JUMPE	PAGE,RPTPG0	;IF THE END, JUST FINISH OFF.
   515	002562'	316 02 0 00 002610'		CAMN	T2,UNIGRP	;SAME UNIT AS LAST TIME?
   516	002563'	263 17 0 00 000000 		POPJ	P,		;YES, DON'T SAY ANYTHING YET.
   517	002564'	335 00 0 00 002610'		SKIPGE	UNIGRP		;MAKE SURE NOT FIRST TIME
   518						JRST	[MOVEM T2,UNIGRP ;IT IS, UNIT UNIGRP
   519							 MOVE T1,PAGNO  ;AND INIT FIRGRP
   520							 MOVEM T1,FIRGRP
   521	002565'	254 00 0 00 004252'			 POPJ P,]	;RETURN.
   522	002566'	261 17 0 00 000002 	RPTPG0:	PUSH	P,T2		;SAVE IT FROM DECOUT
   523	002567'	200 01 0 00 002611'		MOVE	T1,FIRGRP	;GET FIRST PAGE OF GROUP
   524	002570'	260 17 0 00 002676'		PUSHJ	P,DECOUT	;PRINT IT
   525	002571'	200 01 0 00 002612'		MOVE	T1,PAGNO
   526	002572'	350 02 0 00 002611'		AOS	T2,FIRGRP	;SEE IF ONLY ONE PAGE IN GROUP
   527	002573'	316 01 0 00 000002 		CAMN	T1,T2
   528	002574'	254 00 0 00 002600'		JRST	RPTPG1		;ONLY ONE PAGE
   529						MSG	(<->)^		;PRINT RANGE
   530	002575'	051 03 0 00 004256'	OUTSTR [ASCIZ\-\]
   531	002576'	275 01 0 00 000001 		SUBI	T1,1		;LAST PAGE OF GROUP
   532	002577'	260 17 0 00 002676'		PUSHJ	P,DECOUT
   533	002600'	200 01 0 00 002612'	RPTPG1:	MOVE	T1,PAGNO
   534	002601'	202 01 0 00 002611'		MOVEM	T1,FIRGRP	;START OF NEW GROUP.
   535	002602'	051 03 0 00 004240'		MSG	<		>^OUTSTR [ASCIZ\		\]^
   536	002603'	200 01 0 00 002610'		MOVE	T1,UNIGRP	;GET LAST UNIT NUMBER
   537	002604'	260 17 0 00 002676'		PUSHJ	P,DECOUT
   538						CRLF^OUTSTR [ASCIZ /
   539	002605'	051 03 0 00 004063'	/]^
   540	002606'	262 17 0 00 002610'		POP	P,UNIGRP	;NEW LAST UNIT
   541	002607'	263 17 0 00 000000 		POPJ	P,		;AND RETURN.
   542
   543	002610'	000000	000000		UNIGRP:	0			;UNIT OF CURRENT GROUP.
   544					FIRGRP:	0			;PAGE NUMBER IN FILE OF FIRST PAGE IN THIS UNIT NUMBER GROUP
   545	002611'	000000	000000
   546	002612'	000000	000000		PAGNO:	0			;CURRENT FILE PAGE NUMBER.
   547	002613'	000000	000000		HGHUNI:	0			;HIGHEST UNIT SEEN.
   548
   549			000062		SIZUNI==^D50			;MAX NUMBER OF UNITS EXPECTED TO SEE IN STR
   550
   551	002614'				UNICNT:	BLOCK	SIZUNI
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 6
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   552	002676'	201 03 0 00 000012 	DECOUT:	MOVEI	T3,^D10
   553	002677'	231 01 0 03 000000 	RADOUT:	IDIVI	T1,(T3)
   554	002700'	506 02 0 17 000000 		HRLM	T2,(P)
   555	002701'	332 00 0 00 000001 		SKIPE	T1
   556	002702'	260 17 0 00 002677'		PUSHJ	P,RADOUT
   557	002703'	554 01 0 17 000000 		HLRZ	T1,(P)
   558	002704'	051 16 0 01 000060 		OUTCHI	"0"(T1)
   559	002705'	263 17 0 00 000000 		POPJ	P,
   560
   561		260740	002706'		OPDEF RD [PUSHJ P,REDPAG]
   562
   563	002706'	260 17 0 00 000053'	REDPAG:	PUSHJ	P,CNVPAG	;T1 GETS PAGE TO USE
   564	002707'	200 02 0 00 004042'		MOVE	T2,[CIO.PI,,0]
   565	002710'	043 02 0 00 000001 		CHANIO	T2,T1		;SUPER USETI
   566	002711'	066 00 0 00 000062'		INPUT	IOWD
   567	002712'	062 00 0 00 000001 		GETSTS	T1
   568	002713'	405 01 0 00 760000 		ANDI	T1,IO.ERR
   569	002714'	322 01 0 00 001361'		JUMPE	T1,CPOPJ1
   570	002715'	263 17 0 00 000000 		POPJ	P,
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 7
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   571	002716'	051 03 0 00 004257'	SCANER:	OUTSTR [ASCIZ "File: "]
   572	002717'	402 00 0 00 002372'		SETZM USRNAM
   573	002720'	402 00 0 00 002373'		SETZM USRNAM+1
   574	002721'	402 00 0 00 002374'		SETZM FNAME
   575	002722'	402 00 0 00 002375'	 	SETZM FEXT
   576	002723'	200 01 0 00 004261'	S1:	MOVE T1,[POINT 6,FNAME]
   577	002724'	201 02 0 00 000006 		MOVEI T2,6
   578	002725'	402 00 0 00 002374'		SETZM FNAME
   579	002726'	051 04 0 00 000003 	S2:	INCHWL T3
   580	002727'	306 03 0 00 000015 		CAIN T3,15	; IF <CR> EAT LF
   581	002730'	051 04 0 00 000003 		  INCHWL T3
   582	002731'	301 03 0 00 000140 		CAIL T3,140
   583	002732'	275 03 0 00 000040 		  SUBI T3,40
   584	002733'	306 03 0 00 000050 		CAIN T3,"("
   585						  JRST [MOVE T1,[POINT 6,USRNAM]
   586							MOVEI T2,14
   587							SETZM USRNAM
   588							SETZM USRNAM+1
   589	002734'	254 00 0 00 004263'			JRST S2]
   590	002735'	306 03 0 00 000051 		CAIN T3,")"
   591	002736'	254 00 0 00 002723'		  JRST S1
   592	002737'	306 03 0 00 000056 		CAIN T3,"."
   593						  JRST [MOVE T1,[POINT 6,FEXT]
   594							MOVEI T2,3
   595							SETZM FEXT
   596	002740'	254 00 0 00 004271'			JRST S2]
   597	002741'	275 03 0 00 000040 		SUBI T3,40
   598	002742'	321 03 0 00 001361'		JUMPL T3,CPOPJ1
   599	002743'	322 03 0 00 002726'		JUMPE T3,S2
   600	002744'	361 02 0 00 002726'		SOJL T2,S2
   601	002745'	136 03 0 00 000001 		IDPB T3,T1
   602	002746'	254 00 0 00 002726'		JRST S2
   603
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 8
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL

   604			000050		PDLLEN==^D40
   605					DEFINE PDLOV<JRST [MSG<PDL UNDERFLOW>
   606							HALT .]>
   607					REPEAT 10,<PDLOV>
   608					PDLOV^JRST [MSG<PDL UNDERFLOW>^OUTSTR [ASCIZ\PDL UNDERFLOW\]^
   609	002747'	254 00 0 00 004300'			HALT .]^
   610					PDLOV^JRST [MSG<PDL UNDERFLOW>^OUTSTR [ASCIZ\PDL UNDERFLOW\]^
   611	002750'	254 00 0 00 004302'			HALT .]^
   612					PDLOV^JRST [MSG<PDL UNDERFLOW>^OUTSTR [ASCIZ\PDL UNDERFLOW\]^
   613	002751'	254 00 0 00 004304'			HALT .]^
   614					PDLOV^JRST [MSG<PDL UNDERFLOW>^OUTSTR [ASCIZ\PDL UNDERFLOW\]^
   615	002752'	254 00 0 00 004306'			HALT .]^
   616					PDLOV^JRST [MSG<PDL UNDERFLOW>^OUTSTR [ASCIZ\PDL UNDERFLOW\]^
   617	002753'	254 00 0 00 004310'			HALT .]^
   618					PDLOV^JRST [MSG<PDL UNDERFLOW>^OUTSTR [ASCIZ\PDL UNDERFLOW\]^
   619	002754'	254 00 0 00 004312'			HALT .]^
   620					PDLOV^JRST [MSG<PDL UNDERFLOW>^OUTSTR [ASCIZ\PDL UNDERFLOW\]^
   621	002755'	254 00 0 00 004314'			HALT .]^
   622					PDLOV^JRST [MSG<PDL UNDERFLOW>^OUTSTR [ASCIZ\PDL UNDERFLOW\]^
   623	002756'	254 00 0 00 004316'			HALT .]^
   624	002757'				PDL:	BLOCK	PDLLEN
   625	003027'				PAT:	BLOCK	1000
   626			000000'			END	ST

NO ERRORS DETECTED

PROGRAM BREAK IS 004320
CPU TIME USED 00:22.388

12P CORE USED
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page S-1
TSTSUP	MAC	13-Jan-70 17:49		SYMBOL TABLE

ALC	260740	002437'		RBYUNI		000060'		UNIGRP		002610'		
ALCSCN		002437'		RD	260740	002706'		USRNAM		002372'		
CIO.PI		000031	spd	REDPAG		002706'		VTSTSP		000004	spd	
CIO.PO		000032	spd	RESET	047000	000000		WRITE	254000	000043'		
CNVPAG		000053'		RIBALP		000000	ext	XRBCLR		002403'		
CODRIB		002407'	ext	RIBCLR	260740	002403'		XWRITE		000043'		
CPOPJ		001362'		RIBCOD		000000	ext	.LOOK		001273'		
CPOPJ1		001361'		RIBEO1		002514'		.RLOOK		001277'		
D		000064'		RIBEO2		002524'		.SCAN		001303'		
DATBRK		000041'		RIBEOF		002507'		
DECOUT		002676'		RIBEXT		000000	ext	
DSKCBL		001064'		RIBGET		001314'		
DSKCHR	047000	000045		RIBLST		000000	ext	
ERRBRK		000025'		RIBNAM		000000	ext	
EXIT	047000	000012		RIBPFS		000000	ext	
FEXT		002375'		RIBPPN		000000	ext	
FIRGRP		002611'		RIBRIB		000000	ext	
FL.DET		000001	spd	RIBSC1		002470'		
FLG		000000		RIBSC2		002477'		
FLOOK		001307'		RIBSC3		002500'		
FLOOK1		001311'		RIBSC4		002501'		
FNAME		002374'		RIBSCN		002464'		
GETPPN	047000	000024		RIBSFS		000000	ext	
GETUFD		001335'		RIBSIZ		0000              €       EvgS$;ZG6 ]´	yeÚ    Ô                              X            @                                   `Œ                        AAA                   -ò                          @La                                                                                                                                                                                                                                                                                                                                                                                                                                              	000000		ST		000000'		
P		000017		STRBPU		004027'		
P1		000005		T1		000001		
P2		000006		T2		000002		
P3		000007		T3		000003		
P4		000010		T4		000004		
PAGE		000016		UD		001372'		
PAGNO		002612'		UFD		000001	spd	
PAT		003027'		UFDLKB		002376'		
PDL		002757'		UFDLUP		001350'		
PDLLEN		000050	spd	UFDNXE		001363'		
RADOUT		002677'		UFDNXP		001365'		
RBLVPR		000000	ext	UFDPAG		002402'		
RBLVSP		000000	ext	UIOWD		001370'		
RBYPAG		000061'		UNICNT		002614'		

TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL


Symbol cross reference

ALCSCN	   407	   408#
CIO.PI	    24#	    68	   312	   564
CIO.PO	    25#	   107
CNVPAG	    67	   106	   115#	   563
CODRIB	     5#	   368
CPOPJ	   338#	   484
CPOPJ1	   285	   337#	   402	   569	   598
D	   123	   126#	   362	   367	   372	   377	   382	   387	   393	   394	   395	   397	   398	   399
	   400	   401	   438	   439	   440	   454
DATBRK	    73	   101#	   112
DECOUT	   475	   478	   502	   505	   524	   532	   537	   552#
DSKCBL	    59	    60	    63	   128#
ERRBRK	    87#	   113
FEXT	   331	   353#	   378	   575	   593	   595
FIRGRP	   520	   523	   526	   534	   544#
FL.DET	    10#	   427	   428	   432	   495	   512
FLG	     9#	    50	   427	   428	   432	   495	   512
FLOOK	   262	   281#	   408
FLOOK1	   269	   283#
FNAME	   308	   328	   352#	   373	   574	   576	   578
GETUFD	   312#	   344
HGHUNI	   430	   481	   490	   491	   547#
HLPMSG	   131	   132#
IO.ERR	    72	    81#	   111	   317	   568
IOBKTL	    94#
IODERR	    90#
IODTER	    92#
IOEOF	    96#
IOIMPM	    88#
IOWD	    70	   109	   123#	   566
MORE	    67#	   101	   103	   267	   274	   279
NEXT	   103#
P	    20#	    51	    67	   106	   119	   261	   262	   265	   266	   268	   269	   272	   273	   275
	   276	   278	   281	   283	   284	   293	   307	   322	   337	   338	   343	   361	   366	   371
	   376	   381	   386	   392	   407	   408	   411	   412	   416	   437	   445	   446	   452	   456
	   461	   464	   475	   478	   483	   492	   494	   496	   502	   505	   508	   511	   513	   516
	   521	   522	   524	   532	   537	   540	   541	   554	   556	   557	   559	   561	   563	   570
P1	    15#
P2	    16#
P3	    17#
P4	    18#
PAGE	    19#	    65	   103	   121	   122	   336	   363	   442	   444	   454	   484	   498	   514
PAGNO	   429	   501	   510	   519	   525	   533	   546#
PAT	   625#
PDL	    51	   624#
PDLLEN	    51	   604#	   624
RADOUT	   553#	   556
RBLVPR	     7#	   440
RBLVSP	     7#	   439
RBYPAG	   117	   122#
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL


Symbol cross reference

RBYUNI	   115	   121#	   485	   504
REDPAG	   412	   446	   456	   561	   563#
RIBALP	     5#	   397
RIBCOD	     5#	   367
RIBEO1	   472#	   482
RIBEO2	   473	   481#
RIBEOF	   455	   464#
RIBEXT	     5#	   377
RIBGET	   283	   289#
RIBLST	     5#	   395
RIBNAM	     5#	   372
RIBPFS	     5#	     7#	   393	   394	   440
RIBPPN	     6#	   382
RIBRIB	     7#	   438	   454
RIBSC1	   442#	   453
RIBSC2	   444	   452#
RIBSC3	   453#	   462
RIBSC4	   443	   454#
RIBSCN	   437#	   451
RIBSFS	     7#	   439
RIBSIZ	     6#	   399
RIBSLF	     6#	   362
RIBSNM	     6#	   400
RIBSTS	     6#	   387	   401
RIBSZS	     6#	   398
RIPBDR	     6#	   388
RPTCOM	   484#	   494	   511
RPTPAG	   452	   464	   510#
RPTPG0	   514	   522#
RPTPG1	   528	   533#
RPTRIB	   437	   494#
S1	   576#	   591
S2	   579#	   589	   596	   599	   600	   602
SCANER	   276	   281	   571#
SIZUNI	   420	   486	   549#	   551
ST	    48#	   626
STRBPU	    64#	    64	   116
T1	    11#	    58	    59	    60	    61	    63	    64	    69	    71	    72	    73	    88	    90	    92
	    94	    96	   108	   110	   111	   112	   117	   118	   266	   273	   278	   294	   295	   296
	   298	   299	   300	   301	   302	   308	   309	   310	   312	   313	   317	   318	   323	   326
	   328	   330	   331	   362	   363	   367	   368	   372	   373	   377	   378	   382	   383	   387
	   388	   394	   395	   396	   397	   398	   418	   420	   422	   426	   474	   477	   497	   499
	   500	   501	   504	   519	   520	   523	   525	   527	   531	   533	   534	   536	   553	   555
	   557	   558	   565	   567	   568	   569	   576	   585	   593	   601
T2	    12#	    68	    69	   107	   108	   115	   116	   118	   311	   314	   342	   344	   423	   424
	   485	   486	   489	   490	   491	   515	   518	   522	   526	   527	   554	   564	   565	   577
	   586	   594	   600
T3	    13#	   325	   326	   330	   336	   340	   341	   552	   553	   579	   580	   581	   582	   583
	   584	   590	   592	   597	   598	   599	   601
T4	    14#	   439	   440	   442	   445	   453	   461	   471	   472	   474	   477	   481	   482
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL


Symbol cross reference

UD	   325	   342	   346	   348#
UFD	    22#	   289	   303	   312	   315	   316
UFDLKB	   298	   300	   302	   303	   355#	   383
UFDLUP	   326#	   341
UFDNXE	   329	   332	   340#
UFDNXP	   327	   342#
UFDPAG	   314	   359#
UIOWD	   315	   346#
UNICNT	   418	   419	   420	   472	   477	   489	   551#
UNIGRP	   431	   515	   517	   518	   536	   540	   543#
USRNAM	   294	   350#	   572	   573	   585	   587	   588
VTSTSP	     3#	    46
XRBCLR	   361	   362#
XWRITE	   105	   106#
.LOOK	   261	   262#
.RLOOK	   268	   269#
.SCAN	   275	   276#
TSTSUP	MACRO %53B(1156)-1 20:52  8-Jan-83 Page 1
TSTSUP	MAC	13-Jan-70 17:49		ABSOLUTE DISK READ/WRITE TOOL


Macro/Opdef cross reference

ALC	   407#
CRLF	    35#	    98	   264	   271	   365	   370	   375	   380	   385	   391	   410	   415	   434	   465
	   469	   479	   506	   538
DSKCHR	    61
ERROR	    41#	   447	   457
ERRPOP	    38#	   263	   270	   364	   369	   374	   379	   384	   389	   409	   413
EXIT	    56	   449	   459	   488
GETPPN	   296
HELP	   131#
INCHRW	   422	   423
INCHWL	   579	   581
IOERRS	    74#	    87
LOOK	   261#
MSG	    34#	    89	    91	    93	    95	    97	   263	   270	   364	   369	   374	   379	   384	   389
	   409	   413	   421	   433	   447	   457	   467	   476	   487	   503	   529	   535	   608	   610
	   612	   614	   616	   618	   620	   622
OUTCHI	   558
OUTSTR	    53	    89	    91	    93	    95	    97	    98	   131	   263	   264	   270	   271	   290	   304
	   319	   333	   364	   365	   369	   370	   374	   375	   379	   380	   384	   385	   389	   391
	   409	   410	   414	   415	   421	   433	   434	   447	   457	   465	   467	   469	   476	   479
	   487	   500	   503	   506	   530	   535	   538	   571	   608	   610	   612	   614	   616	   618
	   620	   622
PDLOV	   605#	   608	   610	   612	   614	   616	   618	   620	   622
RD	   561#
RESET	    49
RIBCLR	   361#
RLOOK	   268#
SCAN	   275#
WRITE	   105#
X	    82#	    88	    90	    92	    94	    962oA¦